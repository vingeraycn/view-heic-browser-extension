<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ–¼ï¸ View HEIC - æµè§ˆå™¨ä¸­æ— ç¼æŸ¥çœ‹ HEIC å›¾ç‰‡</title>
    <meta
      name="description"
      content="ç°ä»£åŒ–çš„æµè§ˆå™¨æ‰©å±•ï¼Œæ”¯æŒåœ¨ç½‘é¡µä¸­ç›´æ¥æŸ¥çœ‹ HEIC å›¾ç‰‡å’Œ Live Photosï¼Œé›¶é…ç½®ï¼Œé«˜æ€§èƒ½"
    />
    <meta name="keywords" content="HEIC,Live Photo,æµè§ˆå™¨æ‰©å±•,å›¾ç‰‡æŸ¥çœ‹,Chrome,Firefox" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              "pulse-slow": "pulse 2s ease-in-out infinite",
              "bounce-gentle": "bounce 1s ease-in-out infinite",
              "fade-in": "fadeIn 0.6s ease-out",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(20px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
            },
          },
        },
      }
    </script>
  </head>
  <body class="bg-gray-50 font-sans">
    <!-- Header / Hero Section -->
    <header class="bg-gradient-to-br from-blue-600 to-purple-700 text-white">
      <div class="max-w-6xl mx-auto px-6 py-16">
        <div class="text-center">
          <h1 class="text-5xl font-bold mb-4 animate-fade-in">ğŸ–¼ï¸ View HEIC</h1>
          <p class="text-xl mb-8 text-blue-100 animate-fade-in">åœ¨æµè§ˆå™¨ä¸­æ— ç¼æŸ¥çœ‹ HEIC å›¾ç‰‡ï¼Œæ”¯æŒåŠ¨æ€ Live Photos</p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center animate-fade-in">
            <a
              href="https://chromewebstore.google.com/detail/view-heic/kpbcokcekojhfifjkbglcbaiffegecge"
              target="_blank"
              class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors inline-flex items-center"
            >
              <span class="mr-2">ğŸŒ</span>
              Chrome åº”ç”¨å•†åº—å®‰è£…
            </a>
            <a
              href="https://github.com/vingeraycn/view-heic-browser-extension"
              target="_blank"
              class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors inline-flex items-center"
            >
              <span class="mr-2">â­</span>
              GitHub å¼€æºé¡¹ç›®
            </a>
          </div>
        </div>
      </div>
    </header>

    <div class="max-w-6xl mx-auto p-6">
      <!-- Extension Status -->
      <div class="bg-white rounded-lg shadow-sm p-6 mb-6 text-center">
        <div id="extension-status" class="flex items-center justify-center space-x-2">
          <span id="status-text" class="text-gray-700">æ£€æµ‹æ‰©å±•çŠ¶æ€ä¸­...</span>
          <span id="status-indicator" class="px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
            æ£€æµ‹ä¸­
          </span>
        </div>
        <p class="text-sm text-gray-500 mt-2">å®‰è£…æ‰©å±•åï¼Œæ­¤é¡µé¢çš„ HEIC å›¾ç‰‡å°†è‡ªåŠ¨è½¬æ¢æ˜¾ç¤º</p>
      </div>

      <!-- Core Features -->
      <section class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">âœ¨ æ ¸å¿ƒç‰¹æ€§</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="text-center p-4">
            <div class="text-4xl mb-3">ğŸš€</div>
            <h3 class="font-semibold text-gray-800 mb-2">é«˜æ€§èƒ½è½¬æ¢</h3>
            <p class="text-gray-600 text-sm">åŸºäºæœ€æ–° libheif 1.20.1ï¼Œè½¬æ¢é€Ÿåº¦æå‡ 20-30%</p>
          </div>
          <div class="text-center p-4">
            <div class="text-4xl mb-3">ğŸ“±</div>
            <h3 class="font-semibold text-gray-800 mb-2">Live Photos</h3>
            <p class="text-gray-600 text-sm">æ”¯æŒåŠ¨æ€ Live Photosï¼Œé¼ æ ‡æ‚¬æµ®è‡ªåŠ¨æ’­æ”¾</p>
          </div>
          <div class="text-center p-4">
            <div class="text-4xl mb-3">ğŸ”§</div>
            <h3 class="font-semibold text-gray-800 mb-2">é›¶é…ç½®</h3>
            <p class="text-gray-600 text-sm">å®‰è£…å³ç”¨ï¼Œè‡ªåŠ¨æ£€æµ‹å¹¶è½¬æ¢ç½‘é¡µä¸­çš„ HEIC å›¾ç‰‡</p>
          </div>
          <div class="text-center p-4">
            <div class="text-4xl mb-3">ğŸ›¡ï¸</div>
            <h3 class="font-semibold text-gray-800 mb-2">å®‰å…¨å¯é </h3>
            <p class="text-gray-600 text-sm">å®Œå…¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ ä»»ä½•æ•°æ®åˆ°æœåŠ¡å™¨</p>
          </div>
          <div class="text-center p-4">
            <div class="text-4xl mb-3">âš¡</div>
            <h3 class="font-semibold text-gray-800 mb-2">å†…å­˜ä¼˜åŒ–</h3>
            <p class="text-gray-600 text-sm">æ™ºèƒ½ç¼“å­˜å’Œè‡ªåŠ¨æ¸…ç†ï¼Œé¿å…å†…å­˜æ³„æ¼é—®é¢˜</p>
          </div>
          <div class="text-center p-4">
            <div class="text-4xl mb-3">ğŸŒ</div>
            <h3 class="font-semibold text-gray-800 mb-2">è·¨ç«™å…¼å®¹</h3>
            <p class="text-gray-600 text-sm">å®Œç¾è§£å†³ CORS é—®é¢˜ï¼Œæ”¯æŒæ‰€æœ‰ä¸»æµç½‘ç«™</p>
          </div>
        </div>
      </section>

      <!-- Installation Guide -->
      <section class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">ğŸ“¦ å®‰è£…æŒ‡å—</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="border border-gray-200 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-green-600 mb-4">ğŸŒŸ æ¨èï¼šåº”ç”¨å•†åº—å®‰è£…</h3>
            <ol class="space-y-3 text-gray-700">
              <li class="flex items-start">
                <span
                  class="bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5"
                  >1</span
                >
                <span
                  >è®¿é—®
                  <a
                    href="https://chromewebstore.google.com/detail/view-heic/kpbcokcekojhfifjkbglcbaiffegecge"
                    target="_blank"
                    class="text-blue-600 hover:underline"
                    >Chrome åº”ç”¨å•†åº—</a
                  ></span
                >
              </li>
              <li class="flex items-start">
                <span
                  class="bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5"
                  >2</span
                >
                <span>ç‚¹å‡»"æ·»åŠ è‡³ Chrome"æŒ‰é’®</span>
              </li>
              <li class="flex items-start">
                <span
                  class="bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5"
                  >3</span
                >
                <span>ç¡®è®¤å®‰è£…ï¼Œç«‹å³äº«å— HEIC å›¾ç‰‡æŸ¥çœ‹</span>
              </li>
            </ol>
          </div>
          <div class="border border-gray-200 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-blue-600 mb-4">ğŸ› ï¸ å¼€å‘è€…ï¼šæ‰‹åŠ¨å®‰è£…</h3>
            <ol class="space-y-3 text-gray-700">
              <li class="flex items-start">
                <span
                  class="bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5"
                  >1</span
                >
                <span
                  >ä»
                  <a
                    href="https://github.com/vingeraycn/view-heic-browser-extension"
                    target="_blank"
                    class="text-blue-600 hover:underline"
                    >GitHub</a
                  >
                  å…‹éš†é¡¹ç›®</span
                >
              </li>
              <li class="flex items-start">
                <span
                  class="bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5"
                  >2</span
                >
                <span>è¿è¡Œ <code class="bg-gray-100 px-2 py-1 rounded text-sm">pnpm build</code></span>
              </li>
              <li class="flex items-start">
                <span
                  class="bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5"
                  >3</span
                >
                <span>åœ¨ Chrome æ‰©å±•é¡µé¢åŠ è½½ .output æ–‡ä»¶å¤¹</span>
              </li>
            </ol>
          </div>
        </div>
      </section>

      <!-- Live Demo Section -->
      <section class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200">ğŸ¬ åŠŸèƒ½æ¼”ç¤º</h2>
        <p class="text-gray-600 mb-6">
          ä»¥ä¸‹ HEIC å›¾ç‰‡å°†åœ¨å®‰è£…æ‰©å±•åè‡ªåŠ¨è½¬æ¢ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…æ‰©å±•ï¼Œè¿™äº›å›¾ç‰‡å°†æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼š
        </p>

        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6" id="demo-images">
          <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
            <img src="./example.heic" alt="å¤§æ–‡ä»¶HEICæµ‹è¯•" class="w-full h-48 object-cover" />
            <div class="p-4">
              <h4 class="font-semibold text-gray-800 mb-1">å¤§æ–‡ä»¶å¤„ç†</h4>
              <p class="text-sm text-gray-600 mb-1">æ–‡ä»¶å¤§å°: 1.1MB</p>
              <span class="inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded"> âœ… æ€§èƒ½æµ‹è¯• </span>
            </div>
          </div>

          <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
            <img src="./small-test.heic" alt="æ ‡å‡†HEICæµ‹è¯•" class="w-full h-48 object-cover" />
            <div class="p-4">
              <h4 class="font-semibold text-gray-800 mb-1">æ ‡å‡† HEIC</h4>
              <p class="text-sm text-gray-600 mb-1">Nokia æµ‹è¯•æ–‡ä»¶</p>
              <span class="inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded"> âœ… æ ‡å‡†æ ¼å¼ </span>
            </div>
          </div>

          <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
            <img src="./medium-test.heic" alt="å°æ–‡ä»¶HEICæµ‹è¯•" class="w-full h-48 object-cover" />
            <div class="p-4">
              <h4 class="font-semibold text-gray-800 mb-1">å¿«é€Ÿè½¬æ¢</h4>
              <p class="text-sm text-gray-600 mb-1">æ–‡ä»¶å¤§å°: 219KB</p>
              <span class="inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded"> âš¡ æé€Ÿå¤„ç† </span>
            </div>
          </div>

          <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
            <img src="./live-photo-test.heic" alt="Live Photoæµ‹è¯•" class="w-full h-48 object-cover" />
            <div class="p-4">
              <h4 class="font-semibold text-gray-800 mb-1">å¤šå›¾HEIC</h4>
              <p class="text-sm text-gray-600 mb-1">åŒ…å«å¤šå¼ å›¾ç‰‡</p>
              <span class="inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">
                ğŸ“¸ ç‚¹å‡»å±•å¼€æŸ¥çœ‹
              </span>
            </div>
          </div>
        </div>

        <!-- Demo Instructions -->
        <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-400">
          <h4 class="font-semibold text-blue-800 mb-2">ğŸ“ æ¼”ç¤ºè¯´æ˜ï¼š</h4>
          <ul class="text-sm text-blue-700 space-y-1">
            <li>â€¢ <strong>æœªå®‰è£…æ‰©å±•</strong>ï¼šå›¾ç‰‡æ— æ³•æ˜¾ç¤ºæˆ–æ˜¾ç¤ºä¸ºæŸåå›¾æ ‡</li>
            <li>â€¢ <strong>å·²å®‰è£…æ‰©å±•</strong>ï¼šå›¾ç‰‡è‡ªåŠ¨è½¬æ¢ä¸ºå¯æŸ¥çœ‹çš„æ ¼å¼</li>
            <li>â€¢ <strong>å¤šå›¾HEIC</strong>ï¼šç‚¹å‡»åŒ…å«å¤šå¼ å›¾ç‰‡çš„HEICæ–‡ä»¶å¯å±•å¼€æŸ¥çœ‹æ‰€æœ‰å›¾ç‰‡</li>
          </ul>
        </div>
      </section>

      <!-- Interactive Testing -->
      <section class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200">ğŸ§ª äº¤äº’å¼æµ‹è¯•</h2>
        <p class="text-gray-600 mb-4">æµ‹è¯•åŠ¨æ€åŠ è½½çš„ HEIC å›¾ç‰‡å¤„ç†èƒ½åŠ›ï¼š</p>

        <div class="p-4 bg-blue-50 rounded-lg">
          <button
            class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors"
            onclick="addDynamicImage()"
          >
            æ·»åŠ åŠ¨æ€ HEIC å›¾ç‰‡
          </button>
          <div id="dynamic-images" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4"></div>
        </div>
      </section>

      <!-- Technical Details -->
      <section class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">ğŸ”§ æŠ€æœ¯æ ˆ</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold text-gray-800 mb-3">æ ¸å¿ƒæŠ€æœ¯</h3>
            <ul class="space-y-2 text-gray-600">
              <li class="flex items-center"><span class="text-green-500 mr-2">âœ“</span> WXT ç°ä»£æ‰©å±•å¼€å‘æ¡†æ¶</li>
              <li class="flex items-center"><span class="text-green-500 mr-2">âœ“</span> TypeScript 5.5.2 ä¸¥æ ¼æ¨¡å¼</li>
              <li class="flex items-center"><span class="text-green-500 mr-2">âœ“</span> heic-to 1.2.1 è½¬æ¢å¼•æ“</li>
              <li class="flex items-center"><span class="text-green-500 mr-2">âœ“</span> libheif 1.20.1 æ ¸å¿ƒåº“</li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800 mb-3">æ€§èƒ½ä¼˜åŒ–</h3>
            <ul class="space-y-2 text-gray-600">
              <li class="flex items-center"><span class="text-blue-500 mr-2">âš¡</span> æ™ºèƒ½ç¼“å­˜é¿å…é‡å¤è½¬æ¢</li>
              <li class="flex items-center"><span class="text-blue-500 mr-2">âš¡</span> å¹¶å‘é™åˆ¶ä¼˜åŒ–æ€§èƒ½</li>
              <li class="flex items-center"><span class="text-blue-500 mr-2">âš¡</span> è‡ªåŠ¨å†…å­˜æ¸…ç†</li>
              <li class="flex items-center"><span class="text-blue-500 mr-2">âš¡</span> 50MB æ–‡ä»¶å¤§å°é™åˆ¶</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Conversion Statistics -->
      <section class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200">ğŸ“Š è½¬æ¢ç»Ÿè®¡</h2>
        <div class="grid md:grid-cols-3 gap-4" id="conversion-stats">
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <div class="text-2xl font-bold text-green-600" id="success-count">0</div>
            <div class="text-sm text-green-800">æˆåŠŸè½¬æ¢</div>
          </div>
          <div class="text-center p-4 bg-red-50 rounded-lg">
            <div class="text-2xl font-bold text-red-600" id="failure-count">0</div>
            <div class="text-sm text-red-800">è½¬æ¢å¤±è´¥</div>
          </div>
          <div class="text-center p-4 bg-blue-50 rounded-lg">
            <div class="text-2xl font-bold text-blue-600" id="total-count">0</div>
            <div class="text-sm text-blue-800">æ€»è®¡å¤„ç†</div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="bg-gray-800 text-white rounded-lg p-6 text-center">
        <div class="mb-4">
          <h3 class="text-xl font-semibold mb-2">ğŸ–¼ï¸ View HEIC</h3>
          <p class="text-gray-400">è®© HEIC å›¾ç‰‡åœ¨æµè§ˆå™¨ä¸­æ— ç¼æ˜¾ç¤º</p>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a
            href="https://github.com/vingeraycn/view-heic-browser-extension"
            target="_blank"
            class="text-blue-400 hover:text-blue-300 transition-colors"
          >
            GitHub ä»“åº“
          </a>
          <a
            href="https://github.com/vingeraycn/view-heic-browser-extension/issues"
            target="_blank"
            class="text-blue-400 hover:text-blue-300 transition-colors"
          >
            åé¦ˆé—®é¢˜
          </a>
          <a
            href="https://chromewebstore.google.com/detail/view-heic/kpbcokcekojhfifjkbglcbaiffegecge"
            target="_blank"
            class="text-blue-400 hover:text-blue-300 transition-colors"
          >
            Chrome åº”ç”¨å•†åº—
          </a>
        </div>
        <div class="mt-4 pt-4 border-t border-gray-700 text-sm text-gray-400">
          <p>
            Made with â¤ï¸ by
            <a href="https://github.com/vingeraycn" target="_blank" class="text-blue-400 hover:text-blue-300"
              >vingeray</a
            >
          </p>
          <p class="mt-1">åŸºäº MIT è®¸å¯è¯å¼€æº</p>
        </div>
      </footer>
    </div>

    <!-- Custom Styles for HEIC Processing -->
    <style>
      /* HEICå›¾ç‰‡å¤„ç†çŠ¶æ€æ ·å¼ */
      .heic-processing {
        position: relative;
        opacity: 0.7;
        transition: opacity 0.3s ease;
      }

      .heic-processing::after {
        content: "ğŸ”„ è½¬æ¢ä¸­...";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
        z-index: 1000;
        pointer-events: none;
      }

      .heic-converted {
        opacity: 1;
        transition: opacity 0.3s ease;
      }

      .heic-error {
        position: relative;
        border: 2px dashed #ef4444 !important;
        opacity: 0.8;
        filter: grayscale(50%);
        cursor: pointer;
      }

      .heic-error::after {
        content: "âŒ è½¬æ¢å¤±è´¥ - ç‚¹å‡»æŸ¥çœ‹åŸå›¾";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(239, 68, 68, 0.9);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
        z-index: 1000;
        pointer-events: none;
      }

      .heic-error:hover {
        opacity: 1;
        filter: grayscale(0%);
      }

      /* å¤šå›¾HEICæ ·å¼ */
      .multi-image {
        position: relative;
        cursor: pointer;
      }

      .multi-image-indicator {
        position: absolute;
        top: 8px;
        left: 8px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 11px;
        font-weight: bold;
        pointer-events: none;
        z-index: 10;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

      .multi-image:hover .multi-image-indicator {
        background: rgba(59, 130, 246, 0.9);
        transform: scale(1.05);
        transition: all 0.2s ease;
      }

      .multi-image-expanded {
        animation: fadeIn 0.3s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* å¹³æ»‘æ»šåŠ¨ */
      html {
        scroll-behavior: smooth;
      }
    </style>

    <script>
      let imageCount = 0

      // æ£€æµ‹æ‰©å±•çŠ¶æ€
      function checkExtensionStatus() {
        const statusText = document.getElementById("status-text")
        const statusIndicator = document.getElementById("status-indicator")

        // é€šè¿‡æ£€æŸ¥æ˜¯å¦æœ‰HEICå¤„ç†ç›¸å…³çš„ç±»åæ¥åˆ¤æ–­æ‰©å±•æ˜¯å¦å·¥ä½œ
        setTimeout(() => {
          const heicImages = document.querySelectorAll('img[src$=".heic"], img[src$=".HEIC"]')
          let hasProcessed = false

          heicImages.forEach((img) => {
            if (
              img.classList.contains("heic-converted") ||
              img.classList.contains("heic-processing") ||
              img.classList.contains("heic-error")
            ) {
              hasProcessed = true
            }
          })

          if (hasProcessed) {
            statusText.textContent = "âœ… æ‰©å±•è¿è¡Œæ­£å¸¸ï¼ŒHEIC å›¾ç‰‡å·²è‡ªåŠ¨è½¬æ¢"
            statusIndicator.textContent = "æ­£å¸¸è¿è¡Œ"
            statusIndicator.className = "px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"
          } else {
            statusText.textContent = "âš ï¸ æœªæ£€æµ‹åˆ°æ‰©å±•ï¼Œè¯·å…ˆå®‰è£… View HEIC æ‰©å±•"
            statusIndicator.textContent = "éœ€è¦å®‰è£…"
            statusIndicator.className = "px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800"
          }
        }, 2000)
      }

      // æ·»åŠ åŠ¨æ€å›¾ç‰‡
      function addDynamicImage() {
        imageCount++
        const container = document.getElementById("dynamic-images")
        const dynamicItem = document.createElement("div")
        dynamicItem.className = "bg-gray-50 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow"

        // æµ‹è¯•ç”¨ä¾‹ï¼šå¾ªç¯ä½¿ç”¨ä¸åŒçš„æœ¬åœ°æµ‹è¯•æ–‡ä»¶
        const testCases = [
          {
            src: "./example.heic",
            name: "å¤§æ–‡ä»¶æµ‹è¯•",
            description: "1.1MB æ–‡ä»¶è½¬æ¢",
          },
          {
            src: "./small-test.heic",
            name: "æ ‡å‡†æ–‡ä»¶æµ‹è¯•",
            description: "Nokia æ ‡å‡†æ ¼å¼",
          },
          {
            src: "./medium-test.heic",
            name: "å°æ–‡ä»¶æµ‹è¯•",
            description: "å¿«é€Ÿè½¬æ¢æ¼”ç¤º",
          },
          {
            src: "./live-photo-test.heic",
            name: "å¤šå›¾HEIC",
            description: "å¤šå›¾ç‰‡æ–‡ä»¶å±•å¼€",
          },
        ]

        const testCase = testCases[(imageCount - 1) % testCases.length]

        dynamicItem.innerHTML = `
                <img src="${testCase.src}" alt="åŠ¨æ€HEICå›¾ç‰‡ ${imageCount}" class="w-full h-48 object-cover">
                <div class="p-4">
                    <h4 class="font-semibold text-gray-800 mb-1">åŠ¨æ€å›¾ç‰‡ #${imageCount}</h4>
                    <p class="text-sm text-gray-600 mb-1">ç±»å‹: ${testCase.name}</p>
                    <p class="text-sm text-gray-600 mb-2">${testCase.description}</p>
                    <span class="inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">
                        æ·»åŠ æ—¶é—´: ${new Date().toLocaleTimeString()}
                    </span>
                </div>
            `
        container.appendChild(dynamicItem)

        // æ›´æ–°ç»Ÿè®¡
        updateStats()
      }

      // æ›´æ–°è½¬æ¢ç»Ÿè®¡
      function updateStats() {
        setTimeout(() => {
          const allImages = document.querySelectorAll('img[src$=".heic"], img[src$=".HEIC"]')
          const successImages = document.querySelectorAll("img.heic-converted")
          const errorImages = document.querySelectorAll("img.heic-error")

          document.getElementById("total-count").textContent = allImages.length
          document.getElementById("success-count").textContent = successImages.length
          document.getElementById("failure-count").textContent = errorImages.length
        }, 1000)
      }

      // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
      document.addEventListener("DOMContentLoaded", () => {
        checkExtensionStatus()
        updateStats()

        // å®šæœŸæ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        setInterval(updateStats, 3000)
      })
    </script>
  </body>
</html>
